
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Annotate Videos</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
    
  ></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" integrity="sha256-rByPlHULObEjJ6XQxW/flG2r+22R5dKiAoef+aXWfik=" crossorigin="anonymous" /><script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM=" crossorigin="anonymous"></script>



  <style id="compiled-css" type="text/css">
      body {
  background: #20262E;
  padding: 5px;
  font-family: Helvetica;
}

#ctrl {
  background: #fff;
  border-radius: 4px;
  padding: 8px 15px 15px 15px;
  font-size: 14px;
  text-align: center;
  transition: all 0.2s;
  margin: 0 auto;
  width: 500px;
}

button {
  background: #0084ff;
  border: none;
  border-radius: 5px;
  padding: 8px 14px;
  font-size: 15px;
  color: #fff;
    margin: 2px;cursor: pointer;
}

.a{background: #0084ff}
.b{background: #30ba8f}
.c{background: #cf4570}
.d{background: #ff8d5e}

#ctrl.alt {
  background: #0084ff;
  color: #fff;
  margin-top: 40px;
  width: 200px;
}

#ctrl.alt button {
  background: #fff;
  color: #000;
}

      input[type=text], select {
  width: 80%;
  padding: 6px 10px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}

      
  </style>

</head>
<body>
    

<div style="text-align:center"><video id="video" width="320" height="240" controls muted>
   <source id="videntry" src="" type='video/mp4'>
   Your browser does not support the video tag.
   </video></div>

<div id="ctrl">

</div>

</div>


  <!-- TODO: Missing CoffeeScript 2 -->

  <script type="text/javascript">//<![CDATA[
// data = [
//   {
//      "id":"1qe8yxUKVVUy1ThZEfrbvSqjMdl58mY-B",
//      "cands":[
//         "walk",
//         "run",
//         "swim"
//      ]
//   },
//]
      function getParameterByName(name) {
 return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null;
}
      
      var indx = 0;
      
      var b64d = getParameterByName('d');
      //b64d = b64d.replace ('+','.').replace('/','_').replace('=','-') 
      b64d = b64d.replace (/\./g,'+').replace(/\_/g,'/').replace(/\-/g,'=');
      var data = JSON.parse(atob(b64d));
      var selected = '';
      var results = [];
      var failed = false;
      var invalid = false;
      
      var acts = ['tai chi','bending back','assembling computer','splashing','headbutting','making jewelry','frying vegetables','playing trombone','jumping sofa','biking through snow','deadlifting','motocross','golf chipping','delivering mail','marching','dancing charleston','hunting','playing road hockey','exercising with an exercise ball','lifting hat','dune buggy','country line dancing','cutting apple','passing soccer ball','massaging back','tying knot (not on a tie)','entering church','amusement park','shaping bread dough','photocopying','krumping','snowshoe','capoeira','building lego','drinking','barbell','juggling fire','hitting baseball','dealing cards','baking','milking cow','acoustic guitar','getting a haircut','throwing ball','milking goat','hammer throw','punching bag','windsurfing','eating street food','bulldozing','shouting','swing dancing','mountain climber (exercise)','making bed','salsa dancing','surfing crowd','tightrope walking','wrestling','sanding wood','preacher','playing xylophone','breading or breadcrumbing','shrugging','abseiling','dumbbell','bicycling','cooking','orchestra','shoveling snow','swimming breast stroke','moving child','robot dancing','inflating balloons','saluting','moon walking','racing','fly tying','roller skating','bouncing on trampoline','explosion','laying bricks','playing scrabble','soccer goal','closing door','springboard diving','catching or throwing baseball','packing','training dog','folding napkins','playing darts','wading through water','dressage','zumba','carrying baby','stretching','swinging on something','eating ice cream','playing cello','jogging','tap dancing','disc golfing','archaeological excavation','rafting','ice climbing','petting horse','busking','changing wheel','minibike','sword swallowing','throwing tantrum','poaching eggs','standing on hands','directing traffic','singing','hurling (sport)','swimming with sharks','opening refrigerator','peeling apples','metal working','ollie (skateboarding)','texting','playing ping pong','playing squash or racquetball','sleeping','walking through snow','kicking soccer ball','air travel','ice fishing','making pizza','hoverboarding','climbing ladder','drinking beer','shucking oysters','curling (sport)','taking photo','running on treadmill','lunge','train','swinging legs','buttoning','breaking boards','teaching','french horn','pouring wine','tearing','karaoke','opening bottle','gospel singing in church','egg hunting','jaywalking','breaking glass','cleaning toilet','carp fishing','doing laundry','chopping vegetables','dump truck','mechanic','eating chips','unidentified flying object','disc jockey','situp','playing badminton','headbanging','playing accordion','clam digging','extreme sport','opening coconuts','separating eggs','skydiving','uncorking champagne','pulling','shining shoes','swimming with dolphins','flamenco','shooting off fireworks','pulling rope','pushing car','moving furniture','making the bed','exercising arm','playing volleyball','marimba','cooking chicken','filling cake','hand washing clothes','playing harp','sharpening pencil','opening door','tickling','drop kicking','bandaging','fidgeting','shaking hands','attending conference','playing piccolo','playing netball','washing hair','long jump','kicking field goal','ripping paper','woodworking','contorting','repairing puncture','juggling balls','arm wrestling','tying bow tie','thunderstorm','playing organ','jumping','lighting','polishing metal','skiing mono','riding scooter','sun tanning','peeling potatoes','acrobatic gymnastics','waxing eyebrows','batting (cricket)','making latte art','flipping pancake','metal detecting','playing controller','plumbing','wood carving','bathing','breaking','flint knapping','electric guitar','wedding','surfing water','cooking on campfire','washing dishes','frying','watering plants','valuting','mopping floor','crossing river','water park','yawning','landing airplane','smoothie','writing','monster truck','cleaning windows','blowing leaves','wood burning (art)','underwater diving','rock scissors paper','high kick','burping','news anchoring','square dancing','petting animal (not cat)','eating spaghetti','playing ukulele','sneezing','gargling','bathing dog','manicure','washing','marching band','trimming trees','penalty kick (association football)','bartending','brushing teeth','home improvement','cosplaying','drifting (motorsport)','sucking lolly','pillow fight','triple jump','sniffing','tying necktie','bowling','volcano','tasting beer','washing feet','cracking neck','playing ice hockey','eating doughnuts','jumping jacks','brush painting','shredding paper','doing nails','tango dancing','marriage proposal','tobogganing','celebrating','cutting pineapple','putting on lipstick','licking','stealing','petting cat','fixing bicycle','pulling rope (game)','snorkeling','building shed','mushroom foraging','making sushi','capsizing','parasailing','scrambling eggs','playing cricket','doing wheelie','high jump','belly dancing','spray painting','hopscotch','lawn mower racing','cracking knuckles','digging','recreational fishing','spinning plates','bodyboarding','sharpening knives','flipping bottle','embroidering','roasting marshmallows','punching person','planting trees','washing hands','playing trumpet','cutting nails','backflip (human)','logging','carving marble','tiptoeing','using segway','roasting pig','pouring milk','herding cattle','chopping meat','jumpstyle dancing','waterfall','caporales','playing field hockey','snowboarding','acting in play','dodgeball','shuffling cards','sky diving','serve (tennis)','drooling','twiddling fingers','playing poker','push up','bulldozer','watercolor painting','laying stone','riding or walking with horse','waxing legs','ironing','standup paddleboarding','falling off bike','longboarding','playing flute','festival','stacking cups','boating','playing bass guitar','playing handball','reading book','playing bagpipes','card stacking','opening present','omelette','laying decking','alligator wrestling','cheerleading','taking a shower','home roasting coffee','baby waking up','rain','weaving basket','scrapbooking','sailing','using a power drill','playing rubiks cube','trimming or shaving beard','sawing wood','stomping grapes','making tea','hurdling','tie dying','blowing nose','dying hair','rolling pastry','luge','cleaning shoes','pole vault','playing monopoly','throwing water balloon','chasing','land sailing','huddling','biceps curl','curling hair','comedian','adjusting glasses','using remote controller (not gaming)','playing basketball','putting on foundation','using puppets','squat','dancing','whistling','auctioning','lock picking','baby transport','playing violin','dining','hair coloring','hugging (not baby)','playing marbles','letting go of balloon','playing slot machine','playing cymbals','gymnastics tumbling','playing chess','riding a bike','combat','swimming front crawl','arguing','vacuum cleaner','sewing','splashing water','tossing coin','playing with trains','throwing snowballs','planing wood','cooking egg','battle rope training','archery','setting table','playing rugby','finger snapping','bmx bike','outdoor recreation','playing polo','cumbia','applying cream','rope pushdown','answering questions','docking boat','playing didgeridoo','watching tv','playing saxophone','applauding','recipe','hugging','playing blackjack','decoupage','doing aerobics','using a sledge hammer','playing keyboard','carving ice','feeding goats','making a cake','bottling','snowkiting','playing dominoes','playing paintball','playing cards','playing pinball','weaving fabric','breakdancing','balance beam','drinking shots','assembling bicycle','playing tennis','bowling (cricket)','crawling baby','carrying weight','vacuuming car','needle felting','pipe organ','picking blueberries','radio-controlled model','personal computer','making bubbles','steer roping','shaving head','playing pan pipes','picking fruit','dunking basketball','casting fishing line','blending fruit','juggling soccer ball','swimming backstroke','sowing','moving baby','lighting candle','testifying','sign language interpreting','cooking scallops','tapping guitar','shot put','fixing hair','alpine climbing','drag racing','crocheting','massaging neck','ice swimming','concert','historical reenactment','garbage collecting','grinding meat','ice skating','head stand','skateboarding','origami','pushing cart','steering car','counting money','threading needle','camping','tackling','cooking show','playing laser tag','side kick','jumping into pool','grooming cat','embroidery','getting a tattoo','faceplanting','skiing slalom','smoking hookah','air drumming','riding unicycle','waxing chest','trapezing','trimming shrubs','eating hotdog','cooking sausages (not on barbeque)','driving car','bull fighting','playing piano','dancing macarena','catching fish','contact juggling','staring','skipping stone','opening wine bottle','bouncing ball (not juggling)','doing jigsaw puzzle','popping balloons','playing ocarina','ice dancing','playing drums','pumping fist','chiseling stone','playing shuffleboard','poking bellybutton','coloring in','person collecting garbage','tasting food','enduro','roller coaster','carving pumpkin','card tricks','sticking tongue out','smashing','musical ensemble','decorating the christmas tree','base jumping','playing timbales','tying shoe laces','riding mule','looking at phone','massaging legs','airbrush','submerging','peeling banana','playing billiards','playing lute','shining flashlight','bookbinding','visiting the zoo','gambling','swimming butterfly stroke','waking up','snowmobile','stretching arm','shooting basketball','waving hand','street racing','using circular saw','sipping cup','using a microscope','reading newspaper','golf driving','card throwing','stunt performer','stacking dice','roasting','smoking','rocking','calligraphy','cutting cake','cartwheeling','wrapping present','preparing salad','plastering','cutting watermelon','passing american football','petting animal','laying concrete','leatherworking','queuing','playing beer pong','kissing','slapping','scuba diving','cleaning pool','welding','playing viola','talking on cell phone','cake decorating','playing gong','walking the dog','alpine skiing','playing oboe','pull ups','making paper aeroplanes','tapping pen','mountain biking','demolition','sword fighting','feeding fish','pretending to be a statue','treating wood','extinguishing fire','sieving','ironing hair','yarn spinning','mosh pit dancing','aerobics','building sandcastle','bobsledding','bouncing ball','model building','riding mechanical bull','knitting','blowing out candles','photobombing','clean and jerk','balloon blowing','weight lifting','throwing discus','gold panning','sanding floor','running','field hockey','squeezing orange','fencing (sport)','sausage making','brushing hair','arranging flowers','skiing crosscountry','sweeping floor','horse racing','diving cliff','massaging feet','barbequing','playing harmonica','playing kickball','looking in mirror','waiting in line','fencing','drawing','golf putting','catching or throwing softball','laying tiles','polishing furniture','playing recorder','strumming guitar','javelin throw','seasoning food','smoking pipe','braiding hair','blowing glass','pirouetting','praying','playing snare drum','skipping rope','holding snake','using megaphone','telemark ski','hiking','checking watch','flying kite','using computer','scrubbing face','making balloon shapes','arresting','backpacking (wilderness)','gardening','ski ballet','crying','putting wallpaper on wall','shearing sheep','waterfowl hunting','waxing back','riding elephant','forklift','playing clarinet','offroading','playing with toys','hugging baby','carving wood with a knife','bee keeping','playing american football','recording music','giving or receiving award','using a paint roller','dancing gangnam style','playing checkers','dog agility','catching or throwing frisbee','playing hand clapping games','opening bottle (not wine)','chiseling wood','kitesurfing','baking cookies','bungee jumping','riding snow blower','cleaning floor','playing guitar','folding clothes','laughing','feeding birds','paragliding','playing fiddle','hula hooping','batting cage','listening with headphones','cutting orange','parade','jumping bicycle','spelunking','bodysurfing','clay pottery making','playing soccer','bending metal','gymnastics','putting on sari','shuffling feet','shaking head','changing oil','pilates','pushing wheelchair','go-kart','somersaulting','waxing armpits','using inhaler','motorcycling','tabla','cleaning gutters','body piercing','tasting wine','rowing (sport)','christmas','helmet diving','hitchhiking','making snowman','mowing lawn','water sliding','manufacturing','grooming dog','dashcam','wildlife','driving tractor','rallying','kickflip','dancing ballet','pushing wheelbarrow','using atm','nightclub','eating cake','falling off chair','vacuuming floor','swimming','throwing ball (not baseball or american football)','speed skating','water skiing','beatboxing','eating watermelon','torte','slacklining','pumping gas','eating carrots','jetskiing','playing rounders','breathing fire','installing carpet','snowplow','figure skating','tennis','firefighter','walking with crutches','putting on shoes','tossing salad','blasting sand','picking apples','silent disco','slopestyle','stir frying','eating burger','screen printing','cricket','unloading truck','gliding','fireworks','front raises','dirt track racing','construction','rock climbing','doing sudoku','shaving legs','lighting fire','slicing onion','tying tie','making cheese','spinning poi','kick (football)','geocaching','protesting','ski jumping','sled dog racing','canoeing or kayaking','drumming fingers','dumpster diving','playing mahjong','unboxing','presenting weather forecast','filling eyebrows','tagging graffiti','hockey stop','stirring','juggling','folding paper','pulling espresso shot','bouncing on bouncy castle','chopping wood','cooking sausages','circus','smelling feet','eating nachos','bodyweight exercise','snowmobiling','surveying','throwing axe','shopping','playing tuba','bench pressing','yoga','climbing tree','washing machine','playing banjo','playing maracas','throwing knife','dribbling basketball','kickboxing','snatch weight lifting','climbing a rope','making horseshoes','building cabinet','winking','parkour','calculating','crouching','walking on stilts','getting a piercing','high fiving','changing gear in car','using a wrench','wading through mud','wakeboarding','news presenter','making a sandwich','grooming horse','heavy equipment','mixing colours','riding camel','fingerboard (skateboard)','spraying','using bagging machine','swinging baseball bat','pouring beer','stretching leg','pinching','checking tires','using remote controller']
;      
      function next_vid(){
          if(indx >= data.length){
              new ClipboardJS('.btn');

              var output = btoa(JSON.stringify(results));
              $('#ctrl').html('Copy and paste this into the results in mechanical turk. Please use the button to ensure it is copied correctly.<div id="res"></div>');
              $('#res').text(output);
              $('#ctrl').append('<button class="btn" data-clipboard-target="#res">Copy to clipboard</button>')
              $('#video').remove();
              return
          }
          selected = '';
          failed = false;
          invalid = false;
          var vid = data[indx];
          
          $('#videntry').attr('src','https://drive.google.com/uc?export=download&id='+vid['id'])
          $('#video')[0].load();
          
          $("#video")[0].play();
          
          $('#ctrl').html('<div id="btns"><p id="ins">Instructions: Click the button best describing the video. If multiple are accurate, choose the one furthest to the left. For other action, please use a word from the auto-complete options.</p><div>');
          
          for(var i=0; i < vid['cands'].length; i++){
              $('#btns').append('<button class="a" id="but'+i+'" val="'+vid['cands'][i]+'">'+vid['cands'][i]+'</button>');
              $('#but'+i).click(function(){
                for(var i=0; i < vid['cands'].length; i++){
                    $('#but'+i).attr('class','a');
                }
              $('#otr').attr('class','d');
              $('#no').attr('class','c');
                $(this).attr('class', 'b');
                  selected = $(this).attr('val');
              });
          }
          
          $('#btns').append('<button class="d" id="otr">Other Action: <input type="text" id="other" name="other" placeholder="Action Word (optional)"></button>');
          $("#otr").click(function(){
              for(var i=0; i < vid['cands'].length; i++){
                    $('#but'+i).attr('class','a');
                }
              $('#otr').attr('class','b');
              $('#no').attr('class','c');
              selected = 'other';
          });
          $('#other').autocomplete({
            source: acts
        });

          
          $('#btns').append('<button class="c" id="no">No Action</button>');
          $("#no").click(function(){
              for(var i=0; i < vid['cands'].length; i++){
                    $('#but'+i).attr('class','a');
                }
              $('#otr').attr('class','d');
              $('#no').attr('class','b');
              selected = 'none';
          });
          $('#ctrl').append('<button class="b" id="submit" style="margin-top: 1cm;">Submit</button>');
          $('#submit').click(function(){
              if(selected == ''){
                  if(!failed){
                    $('#ins').append(' <strong>Please select an action.</strong>');
                    failed = true;
                  }
                  return;
              }
              if(selected == 'other'){
                  var tmpv = $('#other').val();
                  if(!acts.includes(tmpv)){
                      if(!invalid){
                        $('#ins').append(' <strong>Please choose a suggested action.</strong>');
                        invalid = true;
                      }
                      return;
                  }
              }
              r = vid;
              r['ann'] = selected;
              r['othertxt'] = $('#other').val();
              results.push(r);
              indx += 1;
              next_vid();
          });
      }
      
      next_vid();


  //]]></script>

</body>
</html>
